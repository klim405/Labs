<%--
  Created by IntelliJ IDEA.
  User: klim405
  Date: 01.11.2022
  Time: 00:04
  To change this template use File | Settings | File Templates.
--%>
<%@ page contentType="text/html;charset=UTF-8" language="java" %>

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>MySite</title>
    <link rel="stylesheet" href="css/main.css" type="text/css">
</head>
<body>
<header style="font-family: monospace">
    Климович Вадим, P32091,<br>№1009
</header>
<main class="mt-75">
    <div class="graph">
        <svg id="image" viewBox="0 0 400 400" xml:space="preserve">
            <g>
                <title>Layer 1</title>
                <rect class="figure" stroke=" rgb(0,0,0)" id="svg_53" height="79.2553" width="159.04252" y="119.68077" x="199.9999" stroke-dasharray=" none" stroke-width="0" fill=" rgb(49,168,247)"/>
                <path class="figure" stroke=" rgb(0,0,0)" id="svg_65" d="m37.23399,200.26498l80.5603,-1.06026l82.73756,80.58244l-0.54433,-159.57444" opacity="NaN" stroke-dasharray=" none" stroke-width="0" fill=" rgb(49,168,247)"/>
                <path class="figure" id="svg_63" d="m201.06374,279.78711c-81.38296,-0.53189 -80.31913,-81.38297 -80.85101,-81.91483c0.53188,0.53186 49.99995,19.6808 49.46807,19.14893" opacity="NaN" stroke-dasharray=" none" stroke-width="0" stroke=" rgb(0,0,0)" fill=" rgb(49,168,247)"/>
                <g id="izm8TwvhK_4yLgvcgul0m" transform="matrix(1 0 0 1 199.5 199.5)">
                    <path class="coordinate-line" id="svg_2" fill-rule=" nonzero" fill-opacity="0" fill=" rgb(255,255,255)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-dasharray=" none" stroke-width="2" stroke=" rgb(0,0,0)" stroke-linecap=" butt" d="m-200,0l400,0" vector-effect="non-scaling-stroke"/>
                </g>
                <g id="WkVDkCTJikb5bSSxosQh9" transform="matrix(1 0 0 1 200.5 200.5)">
                    <path class="coordinate-line" id="svg_3" fill-rule=" nonzero" fill-opacity="0" fill=" rgb(255,255,255)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-dasharray=" none" stroke-width="2" stroke=" rgb(0,0,0)" stroke-linecap=" butt" d="m0,-200l0,400" vector-effect="non-scaling-stroke"/>
                </g>
                <g id="iHoyWPlwfxTSgLfinwvGn" transform="matrix(-1 0 0 1 203.81 10.5)">
                    <path class="coordinate-line" id="svg_4" fill-rule=" nonzero" fill-opacity="0" fill=" rgb(255,255,255)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-dasharray=" none" stroke-width="2" stroke=" rgb(0,0,0)" stroke-linecap=" butt" d="m3.27271,-10c0.6192,19.50464 -6.58318,20 -6.58318,20" vector-effect="non-scaling-stroke"/>
                </g>
                <g id="oXHxoJOXi8ycLWuqnvhvn" transform="matrix(1 0 0 1 197.09 10.71)">
                    <path class="coordinate-line" id="svg_5" fill-rule=" nonzero" fill-opacity="0" fill=" rgb(255,255,255)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-dasharray=" none" stroke-width="2" stroke=" rgb(0,0,0)" stroke-linecap=" butt" d="m3.27271,-10c0.6192,19.50464 -6.58318,20 -6.58318,20" vector-effect="non-scaling-stroke"/>
                </g>
                <g id="lTN1Ca4bRjMqcfxYk_3Q5" transform="matrix(1 0 0 1 389.23 196.13)">
                    <path class="coordinate-line" id="svg_6" fill-rule=" nonzero" fill-opacity="0" fill=" rgb(255,255,255)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-dasharray=" none" stroke-width="2" stroke=" rgb(0,0,0)" stroke-linecap=" butt" d="m9.76812,3.5c-19.49619,-0.1405 -19.53812,-7 -19.53812,-7" vector-effect="non-scaling-stroke"/>
                </g>
                <g id="RH3GV0GvvqODrF_reARmP" transform="matrix(1 0 0 1 200 119.5)">
                    <path class="coordinate-line" id="svg_7" fill-rule=" nonzero" fill-opacity="0" fill=" rgb(255,255,255)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-dasharray=" none" stroke-width="2" stroke=" rgb(0,0,0)" stroke-linecap=" butt" d="m-10,0l20,0" vector-effect="non-scaling-stroke"/>
                </g>
                <g id="97tOfo00x5teGLS6EIGYb" transform="matrix(1 0 0 1 200 40.5)">
                    <path class="coordinate-line" id="svg_8" fill-rule=" nonzero" fill-opacity="0" fill=" rgb(255,255,255)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-dasharray=" none" stroke-width="2" stroke=" rgb(0,0,0)" stroke-linecap=" butt" d="m-10,0l20,0" vector-effect="non-scaling-stroke"/>
                </g>
                <g id="5Zhjuec97z705hgaKfzmb" transform="matrix(1 0 0 1 200 359.5)">
                    <path class="coordinate-line" id="svg_9" fill-rule=" nonzero" fill-opacity="0" fill=" rgb(255,255,255)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-dasharray=" none" stroke-width="2" stroke=" rgb(0,0,0)" stroke-linecap=" butt" d="m-10,0l20,0" vector-effect="non-scaling-stroke"/>
                </g>
                <g id="tGHx3bZ77MW2MLLmgNoa7" transform="matrix(1 0 0 1 200 280.5)">
                    <path class="coordinate-line" id="svg_10" fill-rule=" nonzero" fill-opacity="0" fill=" rgb(255,255,255)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-dasharray=" none" stroke-width="2" stroke=" rgb(0,0,0)" stroke-linecap=" butt" d="m-10,0l20,0" vector-effect="non-scaling-stroke"/>
                </g>
                <g id="bi-c7FJo3labj5qNevCPq" transform="matrix(1 0 0 1 120 198.93)">
                    <path class="coordinate-line" id="svg_11" fill-rule=" nonzero" fill-opacity="0" fill=" rgb(255,255,255)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-dasharray=" none" stroke-width="2" stroke=" rgb(0,0,0)" stroke-linecap=" butt" d="m0,-10l0,20" vector-effect="non-scaling-stroke"/>
                </g>
                <g id="QqeypzyA8yzaeNxQCurfk" transform="matrix(1 0 0 1 40.5 199.06)">
                    <path class="coordinate-line" id="svg_12" fill-rule=" nonzero" fill-opacity="0" fill=" rgb(255,255,255)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-dasharray=" none" stroke-width="2" stroke=" rgb(0,0,0)" stroke-linecap=" butt" d="m0,-10l0,20" vector-effect="non-scaling-stroke"/>
                </g>
                <g id="iAF50ycFA3SuJNSxDLB24" transform="matrix(1 0 0 1 359.5 198.86)">
                    <path class="coordinate-line" id="svg_13" fill-rule=" nonzero" fill-opacity="0" fill=" rgb(255,255,255)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-dasharray=" none" stroke-width="2" stroke=" rgb(0,0,0)" stroke-linecap=" butt" d="m0,-10l0,20" vector-effect="non-scaling-stroke"/>
                </g>
                <g id="DWMlAgUVzfEnRiwiqv0BY" transform="matrix(1 0 0 1 280 199)">
                    <path class="coordinate-line" id="svg_14" fill-rule=" nonzero" fill-opacity="0" fill=" rgb(255,255,255)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-dasharray=" none" stroke-width="2" stroke=" rgb(0,0,0)" stroke-linecap=" butt" d="m0,-10l0,20" vector-effect="non-scaling-stroke"/>
                </g>
                <g id="D4-4o2DL5IMMQXasF5xau" transform="matrix(1 0 0 1 44.51 187.51)">
                    <text class="coordinates" id="svg_15" fill-rule=" nonzero" fill=" rgb(0,0,0)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-linecap=" butt" stroke-dasharray=" none" stroke=" none" line-height="1" letter-spacing="0.026" font-weight="700" font-style="normal" font-size="13" font-family="Open Sans" xml:space="preserve">
    <tspan id="svg_16" y="0.44" x="-10.99">-</tspan>
                        <tspan id="svg_17" y="0.44" x="-6.78">R</tspan>
   </text>
                </g>
                <g id="zIJ_yBPlU6gO7cLxklQog" transform="matrix(1 0 0 1 119 187.51)">
                    <text class="coordinates" id="svg_18" fill-rule=" nonzero" fill=" rgb(0,0,0)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-linecap=" butt" stroke-dasharray=" none" stroke=" none" line-height="1" letter-spacing="0.026" font-weight="700" font-style="normal" font-size="13" font-family="Open Sans" xml:space="preserve">
    <tspan id="svg_19" y="0.44" x="-12.82">-</tspan>
                        <tspan id="svg_20" y="0.44" x="-8.61">R</tspan>
                        <tspan id="svg_21" y="0.44" x="-0.01">/</tspan>
                        <tspan id="svg_22" y="0.44" x="5.39">2</tspan>
   </text>
                </g>
                <g id="FpHfiuyFZMRk7fPj35xr_" transform="matrix(1 0 0 1 281.74 187.51)">
                    <text class="coordinates" id="svg_23" fill-rule=" nonzero" fill=" rgb(0,0,0)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-linecap=" butt" stroke-dasharray=" none" stroke=" none" line-height="1" letter-spacing="0.026" font-weight="700" font-style="normal" font-size="13" font-family="Open Sans" xml:space="preserve">
    <tspan id="svg_24" y="0.44" x="-10.99">R</tspan>
                        <tspan id="svg_25" y="0.44" x="-2.38">/</tspan>
                        <tspan id="svg_26" y="0.44" x="3.01">2</tspan>
   </text>
                </g>
                <g id="gi6ozxH9hLh42r9C6i3Gw" transform="matrix(1 0 0 1 366.51 187.51)">
                    <text class="coordinates" id="svg_27" fill-rule=" nonzero" fill=" rgb(0,0,0)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-linecap=" butt" stroke-dasharray=" none" stroke=" none" line-height="1" letter-spacing="0.026" font-weight="700" font-style="normal" font-size="13" font-family="Open Sans" xml:space="preserve">
    <tspan id="svg_28" y="0.44" x="-10.99">R</tspan>
   </text>
                </g>
                <g id="80e9-pfSUIta-yE6NqyUu" transform="matrix(1 0 0 1 191.49 42.95)">
                    <text class="coordinates" id="svg_29" fill-rule=" nonzero" fill=" rgb(0,0,0)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-linecap=" butt" stroke-dasharray=" none" stroke=" none" line-height="1" letter-spacing="0.028" font-weight="700" font-style="normal" font-size="14" font-family="Open Sans" xml:space="preserve">
    <tspan id="svg_30" y="1.32" x="-10.99">R</tspan>
   </text>
                </g>
                <g id="9A5PyZe4HZuU1VXevr4zD" transform="matrix(1 0 0 1 180 123.23)">
                    <text class="coordinates" id="svg_31" fill-rule=" nonzero" fill=" rgb(0,0,0)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-linecap=" butt" stroke-dasharray=" none" stroke=" none" line-height="1" letter-spacing="0.026" font-weight="700" font-style="normal" font-size="13" font-family="Open Sans" xml:space="preserve">
    <tspan id="svg_32" y="0.44" x="-10.99">R</tspan>
                        <tspan id="svg_33" y="0.44" x="-2.38">/</tspan>
                        <tspan id="svg_34" y="0.44" x="3.01">2</tspan>
   </text>
                </g>
                <g id="dWQJ1hzSCzUCXWOkkMW4W" transform="matrix(1 0 0 1 176.08 285.02)">
                    <text class="coordinates" x="-0.53191" y="0" id="svg_35" fill-rule=" nonzero" fill=" rgb(0,0,0)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-linecap=" butt" stroke-dasharray=" none" stroke=" none" line-height="1" letter-spacing="0.026" font-weight="700" font-style="normal" font-size="13" font-family="Open Sans" xml:space="preserve">
    <tspan id="svg_36" y="0.44" x="-12.82">-</tspan>
                        <tspan id="svg_37" y="0.44" x="-8.61">R</tspan>
                        <tspan id="svg_38" y="0.44" x="-0.01">/</tspan>
                        <tspan id="svg_39" y="0.44" x="5.39">2</tspan>
   </text>
                </g>
                <g id="zX1PA4UH3C26MtRsDNC-d" transform="matrix(1 0 0 1 188.51 362.98)">
                    <text class="coordinates" id="svg_40" fill-rule=" nonzero" fill=" rgb(0,0,0)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-linecap=" butt" stroke-dasharray=" none" stroke=" none" line-height="1" letter-spacing="0.026" font-weight="700" font-style="normal" font-size="13" font-family="Open Sans" xml:space="preserve">
    <tspan id="svg_41" y="0.44" x="-10.99">-</tspan>
                        <tspan id="svg_42" y="0.44" x="-6.78">R</tspan>
   </text>
                </g>
                <g id="56GuZsHWJj6WkwKfGNJI2" transform="matrix(1 0 0 -1 389.23 203.22)">
                    <path class="coordinate-line" id="svg_43" fill-rule=" nonzero" fill-opacity="0" fill=" rgb(255,255,255)" stroke-miterlimit="4" stroke-linejoin=" miter" stroke-dashoffset="0" stroke-dasharray=" none" stroke-width="2" stroke=" rgb(0,0,0)" stroke-linecap=" butt" d="m9.76812,3.5c-19.49619,-0.1405 -19.53812,-7 -19.53812,-7" vector-effect="non-scaling-stroke"/>
                </g>
                <path class="coordinate-line" id="svg_56" d="m104.25524,209.04245" opacity="NaN" stroke-dasharray=" none" stroke-width="0" stroke=" rgb(0,0,0)" fill=" rgb(49,168,247)"/>
            </g>
</svg>
    </div>
    <form class="container" action="control" method="GET">
        <h2>Проверка вхождения в область</h2>
        <h4 class="form-label">Координата x</h4>
        <div class="radio-wrapper">
            <input name="coordinateX" id="radio1" type="radio" value="-2" required >
            <label for="radio1">-2</label>
            <input name="coordinateX" id="radio2" type="radio" value="-1.5" required>
            <label for="radio2">-1.5</label>
            <input name="coordinateX" id="radio3" type="radio" value="-1" required>
            <label for="radio3">-1</label>
            <input name="coordinateX" id="radio4" type="radio" value="-0.5" required>
            <label for="radio4">-0.5</label>
            <input name="coordinateX" id="radio5" type="radio" value="0" required checked>
            <label for="radio5">0</label>
            <input name="coordinateX" id="radio6" type="radio" value="0.5" required>
            <label for="radio6">0.5</label>
            <input name="coordinateX" id="radio7" type="radio" value="1" required>
            <label for="radio7">1</label>
            <input name="coordinateX" id="radio8" type="radio" value="1.5" required>
            <label for="radio8">1.5</label>
            <input name="coordinateX" id="radio9" type="radio" value="2" required>
            <label for="radio9">2</label>
        </div>
        <div class="text-field-wrapper">
            <label for="textInput" class="form-label">Координата y</label>
            <input name="coordinateY" id="textInput" type="text" placeholder="-3...3"  onchange="validateForm()">
        </div>
        <h4 class="form-label">Радиус</h4>
        <div class="radio-wrapper">
            <input name="radius" id="radio10" type="radio" value="1" required>
            <label for="radio10">1</label>
            <input name="radius" id="radio11" type="radio" value="2" required>
            <label for="radio11">2</label>
            <input name="radius" id="radio12" type="radio" value="3" required checked>
            <label for="radio12">3</label>
            <input name="radius" id="radio13" type="radio" value="4" required>
            <label for="radio13">4</label>
            <input name="radius" id="radio14" type="radio" value="5" required>
            <label for="radio14">5</label>
        </div>
        <div class="btns-block">
            <a class="btn btn-block secondary" href="table.jsp">Таблица</a>
            <button id="submitBtn" class="btn btn-block primary" disabled>Отправить</button>
        </div>
    </form>
    <form id="jsForm" action="control" method="GET">
        <input id="rField" name="radius" type="hidden">
        <input id="xField" name="coordinateX" type="hidden">
        <input id="yField" name="coordinateY" type="hidden">
    </form>

    <script src="JS/main.js" type="text/javascript"></script>
    <script type="text/javascript">
        let image = document.getElementById("image"),
            radiusInputs = document.getElementsByName("radius");

        image.onclick = function (e) {
            let target = this.getBoundingClientRect();
            let x = (e.clientX - target.left - target.width/2) / (target.width / 2.5),
                y = -(e.clientY - target.top - target.height/2) / (target.height / 2.5) + 0.0025;

            let radius = 1;
            for ( const radiusInput of radiusInputs) {
                if (radiusInput.checked) {
                    radius = radiusInput.value;
                }
            }

            let form = document.getElementById("jsForm"),
                xField = document.getElementById("xField"),
                yField = document.getElementById("yField"),
                rField = document.getElementById("rField");

            xField.value = (x*radius).toFixed(4).toString();
            yField.value = (y*radius).toFixed(4).toString();
            rField.value = radius.toString();
            form.submit();
        }
    </script>
</main>
</body>
</html>
